<jsp:useBean id="bwBean" class="com.vitria.bservlet.JspBean" scope="page"/>
<%@ page import="com.vitria.web.awi.*, java.util.*, java.text.*, java.net.*, java.sql.*,
			    java.util.Properties, com.bellnexxia.iom.utilities.Utility.PropertyFileUtil, 
			    com.bellnexxia.iom.utilities.codeDecode.CodeDecode, com.bellnexxia.iom.utilities.Utility.OrderHelper, CommStruct.Constants" %>

<%--
	This file containss a JSP template which holds the details relevant to a
	NPCO performer to Provide Critical Dates and Circuit Details Activity state within the Automator Model.
--%>

<%
Task task = (Task)bwBean.getData();
String taskId = task.getId();
String redirToInbox = URLEncoder.encode("/awi/.bws?vtObjectID=vtlh&vtMethod=resetInboxData&vtEncoder=JSP&vtEncoderQualifier=performer/pages/User_Inbox.jsp");
String redirToInboxUrl = URLEncoder.encode(redirToInbox);
Activity activity = task.getActivity();
Map attrs = task.getAttributes();
boolean isStarted = task.isAcquired();
String detailPage = activity.getDetailSpecifier().trim();
boolean isGrayOut = false;
boolean isLayerOneAccess = false;
if ((attrs.get("GrayOut") != null) && (attrs.get("GrayOut").toString().equals("yes")))
  isGrayOut = true;

if ((attrs.get("bLayerOneAccess") != null) && (attrs.get("bLayerOneAccess").toString().equals("yes")))
  isLayerOneAccess = true;

String linkedOrder = "";
  if (attrs.get("LinkedIndicator") != null)
    linkedOrder = (String)attrs.get("LinkedIndicator");
    
 if(linkedOrder.length()<= 0)
 linkedOrder = "No";

if(detailPage.length() == 0){
	detailPage = "performer/pages/DefaultDetails.jsp";
}

HttpSession theSession = request.getSession(true);
String listpage = (String) theSession.getValue("currentpage");

// Get properties
Properties propertiesFile = new Properties();
propertiesFile = PropertyFileUtil.getPropertiesFile("");

String theList = propertiesFile.getProperty("RETURN_LIST");
String theRoot = propertiesFile.getProperty("EOV_URL_PREFIX");

String manualUSSOFlag = (String)attrs.get("ManualUSSOFlag");

if(manualUSSOFlag == null){
   manualUSSOFlag = "";
}
// start of addition for Ethernet and IP Services, 2015
// initialize flag for inflight EI Access as false
boolean isEIAccessProd = false;

if(attrs.get("iseiaccess") == null){
    // this is inflight so we need to get product name
    String customerOrderNum = (attrs.get("EOM_Order") != null ? (String)attrs.get("EOM_Order") : "");
    String lineItemId = (attrs.get("COLineItemID") != null ? (String)attrs.get("COLineItemID") : ""); 
    // find if woli belongs to product EI Access
    isEIAccessProd =  OrderHelper.isProductExists(Constants.EIACCESS, customerOrderNum, lineItemId); // identify inflight EI Access
}
// end of addition 


%>

<%!
String replaceNewLines(String s) {
	String outS=new String("");
	if(s==null)
	   return outS;
	String s11=Constants.LINETOKENIZE;
	while(true) {
		int i=s.indexOf(s11);
		if(i==-1) {
		   outS=outS+s.substring(0,s.length());
		   break;
		}
		String s1=s.substring(0,i);
		outS=outS+s1+"\n";
		s=s.substring(i+s11.length());
	}

	return outS;
}
%>
<%!
//
String isSelected(String reason, String value) {
   String currentReason = reason;
   if (currentReason == null)currentReason="";
   if (value == null)return "";
   if (currentReason.equals(value))return " selected ";      
   return "";
}
%>
<%!
StringBuffer validationMaskBuffer = new StringBuffer();
%>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<html>


<head>
	<META content="text/html; charset=iso-8859-1" http-equiv=Content-Type>
	<TITLE>Provide Dates and Details</TITLE>
	<LINK href="/awi/pages/main.css" rel=stylesheet type="text/css">
</head>



<body>

<!--
	The following is a special form which is used to communicate to the other frames
	in the webfront the location of the form which should be associated with the
	details page.
-->

	<FORM name=detailPointer>
		<INPUT name=expression type=hidden value=parent.tasks.document.detailForm>
	</FORM>

	<br>

	<FORM method=get name=detailForm target=_top onSubmit="return false;">

		<input type="hidden" name="vtEncoder" size="20" value="JSP">
		<input type="hidden" name="vtEncoderQualifier" size="20" value="/awi/performer/pages/User_Inbox.jsp">
		<input type="hidden" name="alternateQualifier" size="20" value="/awi/performer/pages/User_Inbox.jsp">
		<input type="hidden" name="doDetails" size="20" value="<%= detailPage %>">
		<input type="hidden" name="vtObjectID" size="20" value="vtlh">
		<input type="hidden" name="vtMethod" size="20" value="changeTaskState">
		<input type="hidden" name="taskId" size="20" value=<%= task.getId() %>>
		<input type="hidden" name="toState" size="20" value="unknown">
		<input type="hidden" name="newPerformer" size="20" value="">
		<input type="hidden" name="redirectTo" size="20" value="">

		<input type="hidden" name="returnType" size="20" value="">
		<input type="hidden" name="returnTypeOnComplete" size="20" value="">
		<input type="hidden" name="returnTypeOnRelease" size="20" value="">
		<input type="hidden" name="startAttributes" value="">

<!-- This is where the Activity State reads in data from the Automator Model
-->

<TABLE border="2" cellPadding="4" cellSpacing="0" width="100%">
<TR>
	<TD width="100%">

		<TABLE width="100%">
			<% 	
				String displayOrderURL = "";
				if (attrs.get("doWorkOrderLineItem.workOrderLineItemStruct.LineItemURL") != null)
					displayOrderURL = attrs.get("doWorkOrderLineItem.workOrderLineItemStruct.LineItemURL").toString();
				else
					displayOrderURL = theRoot;
			%>
			<TR>
				<TD colspan=4 width="100%">
					<%= Constants.EOM_LINK_PART1 %><%=displayOrderURL%><%= Constants.EOM_LINK_PART2 %><BR><BR>
				</TD>
			</TR>

			<TR>
				<TD width="20%"><B>Customer:</B></TD>
				<TD width="30%"><%=attrs.get("CustomerName")%></TD>
				<TD width="20%"><B>Line Item Action:</B></TD>
				<TD width="30%"><%=attrs.get("LineItemAction")%></TD>
			</TR>

			<TR>
				<TD width="20%"><B>Order Number:</B> </TD>
				<TD width="30%"><%=attrs.get("CustomerOrderNumber")%></TD>
				<TD width="20%"><B>Line Item ID:</B></TD>
				<TD width="30%"><%= attrs.get("COLineItemID") %></TD>
			</TR>
			<TR>
				<TD width="20%" valign="top"><B>Quote #:</B></TD>
				<TD width="30%"><%=attrs.get("QuoteNumber")%></TD>
				<TD width="20%"><B>Line Item Type:</B></TD>
				<TD width="30%"><%=attrs.get("LineItemType")%></TD>
			</TR>
			
			<TR>
				<%//EI & IP Over FTTB start %>
				<%if( (attrs.get("iseiaccess") != null && attrs.get("iseiaccess").toString().equals("true")) || isEIAccessProd) // boolean isEIAccessProd represents inflight for EI Access before Ethernet and IP release in 2015)
				{
					%>
		       	<TD width="20%" valign="top"><B>Qualified Access:</B></TD>
       			<TD width="30%" valign="top"><%=(attrs.get("qualifiedaccess") !=null ? attrs.get("qualifiedaccess") : "")%></TD>
       			<%} %>
				<%//EI & IP Over FTTB end %>
				<TD width="20%" valign="top"><B>LinkedOrder:</B></TD>
				<TD width="30%"><%= linkedOrder %></TD>
			</TR>

			<TR>
				<TD colspan=2 width="50%"><B>Customer Address:</B>  </TD>
				<TD width="20%" valign="top"><B>CSAP:</B></TD>
				<TD width="30%" valign="top"><%=attrs.get("NPILiteIndicator")%></TD>
			</TR>

			<% // NGWE addition starts. (Display Addition Wavelength circuit#)
			if(attrs.get("isAdditionalWaveLengthPortProduct") != null && attrs.get("isAdditionalWaveLengthPortProduct").toString().equals("true"))
			{
				%>
			<TR>
				<TD colspan=2 width="50%"> <%= attrs.get("CustomerAddress") %></TD>
				<TD width="20%" valign="top"><B>Additional Wavelength Port Circuit Number:</B></TD>
				<TD width="30%"><%= attrs.get("CircuitNumber") %></TD>
			</TR>
			<%
			}
			// else display the field as "Cicuit Number:" for products other than "Additional Wavelength Port"
			else 
			{ %>
			<TR>
				<TD colspan=2 width="50%"> <%= attrs.get("CustomerAddress") %></TD>
				<TD width="20%" valign="top"><B>Circuit Number:</B></TD>
				<TD width="30%"><%= attrs.get("CircuitNumber") %></TD>
			</TR>
			<%} 
			// NGWE addition ends. (Display Addition Wavelength circuit#)
			
            //NGEv4 Dec 2014 addtion starts
            String EICircuitNumber = (String)attrs.get("EICircuitNumber");
            if(EICircuitNumber != null){
                if(!EICircuitNumber.equals(""))
                { %>
                    <TR>
                    <TD width="30%" valign="top"><B>EI Access Circuit Number:</B></TD>
                    <TD width="70%"><%= EICircuitNumber %></TD>
                    </TR>
                <%}	//NGEv4 addtion ends
                // start of addition for NGE-5, where we will display label EI Access Circuit Number when product is LAG Member its parent LAG
                 else{ // EI access circuit number is empty value
                    if(attrs.get("isLAG") != null && attrs.get("isLAG").toString().equals("true")){
                        // check that line is not EI Access (since this would imply that it is LAG line that is being dealt with
                        if(attrs.get("iseiaccess") != null && attrs.get("iseiaccess").toString().equals("false")){
                    %>
                            <TR>
                                <TD width="30%" valign="top"><B>EI Access Circuit Number:</B></TD>
                            </TR>
                 <%     }
                    }
                } 
                 
            } %>
            
            <!-- start of addition - NGE-5, 2015 display LAG Member Circuit Number  -->
            <%
                if( (attrs.get("iseiaccess") != null && attrs.get("iseiaccess").toString().equals("true")) || isEIAccessProd) // boolean isEIAccessProd represents inflight for EI Access before Ethernet and IP release in 2015)
				{
                     //CR EIE
                    String IPCircuitNumber = (String)attrs.get("IPCircuitNumber");
                    // added portCircNo for NGE5, 2015
                    String portCirNo = (String)attrs.get("PortCircuitNumber");
            
                    if((IPCircuitNumber != null)&&(!IPCircuitNumber.equals(""))){ %>
                        <TR>
                            <TD width="20%" valign="top"><B>Initial Port Circuit Number:</B></TD>
                            <TD width="40%"><%= IPCircuitNumber %></TD>
                        </TR>
                    <%}
                    // start of addition - NGE-5, 2015, display Initial Port Circuit Number on NPCO P3 P2P of LAG Member / EI Access (if IPCircuitNumber cannot be retrieved for EI Access)
                    else if(attrs.get("isPort") != null && attrs.get("isPort").toString().equals("true")){
                        if(portCirNo != null){  // added for NGE-5, 2015 - in case if woli of Initial Port is not there then display Port Circuit Number from the order line of Initial Port 
                    %>
                        <TR>
                            <TD width="20%" valign="top"><B>Initial Port Circuit Number:</B></TD>
                            <TD width="40%"><%=portCirNo%></TD>
                        </TR>
                   <% }
                    }
                    if(attrs.get("isLAG") != null && attrs.get("isLAG").toString().equals("true")){
                        String lagMemCirNumber1 = (String)attrs.get("CircuitLAGMember1");
                        if(lagMemCirNumber1 != null){ %>
                            <TR>
                                <TD width="30%" valign="top"><B>LAG Member Circuit Number:</B></TD>
                                <TD width="70%" valign="top"><%=lagMemCirNumber1%></TD>
                            </TR>
                       <%}
                        String lagMemCirNumber2 = (String)attrs.get("CircuitLAGMember2");
                        if(lagMemCirNumber2 != null && !lagMemCirNumber2.equals("")){ %>
                            <TR>
                                <TD width="30%" valign="top"><B>LAG Member Circuit Number:</B></TD>
                                <TD width="70%" valign="top"><%=lagMemCirNumber2%></TD>
                            </TR>
                        <%}
                    }
                }
                // end of addition
                else{
                    //CR EIE
                    String IPCircuitNumber = (String)attrs.get("IPCircuitNumber");
                    // added portCircNo for NGE5, 2015
                    String portCirNo = (String)attrs.get("PortCircuitNumber");
            
                    if((IPCircuitNumber != null)&&(!IPCircuitNumber.equals(""))){ %>
                        <TR>
                            <TD width="20%" valign="top"><B>Initial Port Circuit Number:</B></TD>
                            <TD width="40%"><%= IPCircuitNumber %></TD>
                        </TR>
                    <%}
                    // start of addition - NGE-5, 2015, display Initial Port Circuit Number on NPCO P3 P2P of LAG Member / EI Access (if IPCircuitNumber cannot be retrieved for EI Access)
                    else if(attrs.get("isPort") != null && attrs.get("isPort").toString().equals("true")){
                        if(portCirNo != null){  // added for NGE-5, 2015 - in case if woli of Initial Port is not there then display Port Circuit Number from the order line of Initial Port 
                    %>
                        <TR>
                            <TD width="20%" valign="top"><B>Initial Port Circuit Number:</B></TD>
                            <TD width="40%"><%=portCirNo%></TD>
                        </TR>
                   <% }
                    }
                }
			
			 // NGWE addition starts. (Display Diverse circuit#)
			 if(attrs.get("isBellWavelengthServicesProduct") != null)
			 {
				 if(attrs.get("isBellWavelengthServicesProduct").toString().equals("true"))
				 {  
				 
					 // start of addition for NGW, 2016
					 // display Access Management OptionsText for Wavelength ASite
					 String asiteAccessMgmtOptions = ( (attrs.get("AsiteAccessMgmtOptions") != null && attrs.get("AsiteAccessMgmtOptions").toString().length() > 0) ? attrs.get("AsiteAccessMgmtOptions").toString() : "");
					 if(!asiteAccessMgmtOptions.equals(""))
					 {
						 %>                                                  
						 <TR>
							 <TD width="20%" valign="top"><B>A-Site Access Management Options:</B></TD>
							 <% if( asiteAccessMgmtOptions.equalsIgnoreCase(Constants.MANAGED) || asiteAccessMgmtOptions.equalsIgnoreCase(Constants.UNMANAGED) ){ %>
								 <TD width="30%" valign="top"><%=asiteAccessMgmtOptions%></TD>
							 <% } %>
							 <TD width="25%"><B>Diverse Circuit Number:</B></TD>
							 <TD width="70%" valign="top"><%=attrs.get("BELDiverseCircuitNumber")%></TD>
						 </TR>
					 <%} 
					 else{ %>
						 <TR>
							 <TD width="20%"></TD>
							 <TD width="30%"></TD>
							 <TD width="25%"><B>Diverse Circuit Number:</B></TD>
							 <TD width="70%" valign="top"><%=attrs.get("BELDiverseCircuitNumber")%></TD>
						 </TR>
					 
					 <%} 
					 //end of addition 
				 }
			 }
			//NGWE addition ends. (Display Diverse circuit#)
			%>
			
			
		</TABLE>
	</TD>
</TR>
</TABLE>

<BR>

<TABLE border="2" cellPadding="4" cellSpacing="0" width="100%">
	<TR>
		<TD width="100%">
			<TABLE width="100%">
		<% // NGWE addition starts. (Display the field as "Addition Wavelength Port USSO Number")
				if((attrs.get("isAdditionalWaveLengthPortProduct") != null) && (attrs.get("isAdditionalWaveLengthPortProduct").toString().equals("true")))
				{
				%>
				<TR>
					<TD width="20%" valign="top"><B>Additional Wavelength Port USSO Number:</B></TD>
					<TD width="80%" valign="top"><%= attrs.get("USSONumber") %></TD>
				</TR>
		<%		
				}
                // else display the field as "USSO Number:" for product other than "Additional Wavelength Port"
				else { %>
				<TR>
					<TD width="20%" valign="top"><B>USSO Number:</B></TD>
					<TD width="80%" valign="top"><%= attrs.get("USSONumber") %></TD>
				</TR>
		<%} 
        // NGWE addition ends. (Display "Addition Wavelength USSO Number")
                //CR EIE
               if(attrs.get("IPUSSO") != null && !attrs.get("IPUSSO").toString().equals("")){ %>
                    <TR>
                        <TD width="20%"><B>USSO Number(Initial Port): </B></TD>
                        <TD width="80%"><%=attrs.get("IPUSSO") %></TD>
                    </TR>
				<% } 
                // start of addition for NGE-5, 2015 , display LAG Memebr USSO for EI Access
                if( (attrs.get("iseiaccess") != null && attrs.get("iseiaccess").toString().equals("true")) || isEIAccessProd) // boolean isEIAccessProd represents inflight for EI Access before Ethernet and IP release in 2015)
				{
                    String lagMemUSSO1 = (String)attrs.get("USSOLAGMember1");
                    if(lagMemUSSO1 != null && !lagMemUSSO1.equals("")){ %>
                        <TR>
                            <TD width="30%" valign="top"><B>USSO Number(LAG Member):</B></TD>
                            <TD width="70%" valign="top"><%=lagMemUSSO1%></TD>
                        </TR>
                   <%}
                    String lagMemUSSO2 = (String)attrs.get("USSOLAGMember2");
                    if(lagMemUSSO2 != null && !lagMemUSSO2.equals("")){ %>
                        <TR>
                            <TD width="30%" valign="top"><B>USSO Number(LAG Member):</B></TD>
                            <TD width="70%" valign="top"><%=lagMemUSSO2%></TD>
                     </TR>
                    <%}
                }
                // end of addition
				else{
                     if(attrs.get("EIAccessUSSO") != null && !attrs.get("EIAccessUSSO").toString().equals("")){ %>
                        <TR>
                            <TD width="20%"><B>USSO Number(EI Access): </B></TD>
                            <TD width="80%"><%=attrs.get("EIAccessUSSO") %></TD>
                        </TR>
                    <% } //NGv4 Dec 2014, ends
                     // start of addition - NGE-5, 2015, display Initial Port USSO on NPCO P3 P2P of LAG Member
                    String lagMemPortUsso = (String)attrs.get("PortUSSO");
                    if(lagMemPortUsso != null && !lagMemPortUsso.equals("")){ %>
                        <TR>
                            <TD width="30%" valign="top"><B>USSO Number(Initial Port):</B></TD>
                            <TD width="70%"><%= lagMemPortUsso %></TD>
                        </TR>
                    <%} // end of addition 
                
                      //NGv4 Dec 2014, starts.
                   
                }
                %>	
				<TR>
					<TD width="20%" valign="top"><B>Decline Reason:</B></TD>
					<TD width="80%" valign="top"><%= attrs.get("DeclineReason") %></TD>
				</TR>
			</TABLE>

			<BR>
			<!-- Main table -->
			<TABLE>
			<% if(isStarted == false){ %>
				<TR>
					<TD>
					<%if (isGrayOut) {%>
						<br>You are being notified that this order has been deleted.
							If you start this task you will be required to review the deleted order.</br>
		          	<%} else {%>
						If you start this task you will be expected to provide Circuit Dates and Critical Details
						for the specified order.
					<%}%>
					</TD>
				</TR>
			</TABLE>
			<!-- End Main table -->
		</TD>
	</TR>
</TABLE>

<!-- This is where the user enters information
-->

			<%}else{
			
			   if (!isGrayOut) {
			        if((((String)attrs.get("ProvinceState")).equals("105006")) ||
				   (((String)attrs.get("ProvinceState")).equals("105005"))){ %>				
				<TR>
					<TD width="25%"><B>Username: </B></TD>
					<TD width="18%"><%=attrs.get("Username")%></TD>
				</TR>
				
				<%
				}
				
				CodeDecode tempCodeDecode = new CodeDecode();
				String revisionType = tempCodeDecode.getIOMValue("DISPLAY", "RevisionFlag", (String)attrs.get("LineItemType"));
				
				//System.out.println("USSOStatus="+(String)attrs.get("USSOStatus")+"; Constants.USSO_ISSUED="+Constants.USSO_ISSUED);
				//System.out.println("revisionType="+revisionType+"; Constants.REVISION_TYPE_DUE_DATE="+Constants.REVISION_TYPE_DUE_DATE);			        
			        
			        if(((String)attrs.get("USSOStatus")).equalsIgnoreCase(Constants.USSO_ISSUED)&&			        
			           (!revisionType.equalsIgnoreCase(Constants.REVISION_TYPE_DUE_DATE)) &&
			           !manualUSSOFlag.equals("Y")){			        
			        %>
			           <TR>
				        <TD width="25%"><B>Correction Reason:</B></TD>
				        <TD width="20%">
				        <%String reason = (String)attrs.get("CorrectionReason");%>
					        <select name="CorrectionReason">                                 
				                     <option <%=isSelected(reason, "")%> value=""></option>
				                     <option <%=isSelected(reason, Constants.CORRECTION_REASON_A)%> value="<%=Constants.CORRECTION_REASON_A%>"><%=Constants.CORRECTION_REASON_A%></option>
				                     <option <%=isSelected(reason, Constants.CORRECTION_REASON_B)%> value="<%=Constants.CORRECTION_REASON_B%>"><%=Constants.CORRECTION_REASON_B%></option>
				                     <option <%=isSelected(reason, Constants.CORRECTION_REASON_C)%> value="<%=Constants.CORRECTION_REASON_C%>"><%=Constants.CORRECTION_REASON_C%></option>
				                     <option <%=isSelected(reason, Constants.CORRECTION_REASON_D)%> value="<%=Constants.CORRECTION_REASON_D%>"><%=Constants.CORRECTION_REASON_D%></option>
				                     <option <%=isSelected(reason, Constants.CORRECTION_REASON_E)%> value="<%=Constants.CORRECTION_REASON_E%>"><%=Constants.CORRECTION_REASON_E%></option>
				                     <option <%=isSelected(reason, Constants.CORRECTION_REASON_F)%> value="<%=Constants.CORRECTION_REASON_F%>"><%=Constants.CORRECTION_REASON_F%></option>
				                     <option <%=isSelected(reason, Constants.CORRECTION_REASON_H)%> value="<%=Constants.CORRECTION_REASON_H%>"><%=Constants.CORRECTION_REASON_H%></option>
				                     <option <%=isSelected(reason, Constants.CORRECTION_REASON_I)%> value="<%=Constants.CORRECTION_REASON_I%>"><%=Constants.CORRECTION_REASON_I%></option>
				                </select>				                
			                </TD>                        
			          </TR>
			         <%validationMaskBuffer.append("S");
			       }
			        			      
				if((((String)attrs.get("ProvinceState")).equals("105006")) ||
				   (((String)attrs.get("ProvinceState")).equals("105005"))){ %>				
				<TR>
					<TD valign=top colspan=2>
						<!-- Left Clumn - Dates -->
						<TABLE>
						<TR>
							<TD width="25%"><B>Sales Info Date (SID): </B> </TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="1" name=SID value="<%= attrs.get("SID") %>"></TD>
						</TR>

						<TR>
							<TD width="25%"><B>Engineering Ready Date (ERD): </B> </TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="2" name=ERD value="<%= attrs.get("ERD") %>"></TD>
						</TR>

						<TR>
							<TD width="25%"><B>Plant Ready Date (PRD): </B> </TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="3" name=PRD value="<%= attrs.get("PRD") %>"></TD>
						</TR>

						<TR>
							<TD width="25%"><B>Outside Plant Ready Date (OPRD):  </B></td>
							<TD width="18%"><INPUT type=text size=14 tabindex="4" name=OPRD value="<%= attrs.get("OPRD") %>"></td>
						</TR>

						<TR>
							<TD width="25%"><B>Plant Test Date (PTD):  </B></TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="5" name=PTD value="<%= attrs.get("PTD") %>"></TD>
						</TR>

						<TR>
							<TD width="25%"><B>Due Date (DD): </B> </TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="6" name=DD value="<%= attrs.get("DD") %>"></TD>
						</TR>
						</TABLE>
						<!-- End Left Clumn - Dates -->
					</TD>
					<TD valign=top colspan=2>
						<!-- Right Clumn - Non-Dates -->
						<TABLE>
						<TR>
							<TD width="35%"><B>Network Request #: </B></TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="7" name=NetworkRequestNumber maxlength="8" value="<%= attrs.get("NetworkRequestNumber") %>"></TD>
						</TR>

						<TR>
							<TD width="35%"><B>CIC/Camp Code:</B> </TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="8" name=CICCamp maxlength="30" value="<%= attrs.get("CICCamp") %>"></TD>
						</TR>

						<TR>
							<TD width="35%"><B>Priority Code: </B> </TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="9" name=PriorityCode maxlength="30" value="<%= attrs.get("PriorityCode") %>"></TD>
						</TR>

						<TR>
							<TD width="35%"><B>Project Code:</B></TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="10" name=ProjectCode maxlength="4" value="<%= attrs.get("ProjectCode") %>"></TD>
						</TR>

						<% if (isLayerOneAccess) {%>
						<TR>
							<TD colspan=2 valign="top">
								<TABLE border="2" cellPadding="4" cellSpacing="0" width=93%>
								<TR>
									<TD>
										<TABLE width=100% border=0>
										<TR>
											<TD width="50%"><B>ZEnd Network Request #: </B> </TD>
											<TD width="18%"><INPUT type=text size=14 tabindex="11" name=ZEndNetworkRequestNumber maxlength="8" value="<%= attrs.get("ZEndNetworkRequestNumber") %>"></TD>
										</TR>
										<TR>
											<TD width="50%"><B>ZEnd CIC/Camp Code:</B> </TD>
											<TD width="18%"><INPUT type=text size=14 tabindex="12" name=ZEndCICCamp maxlength="30" value="<%= attrs.get("ZEndCICCamp") %>"></TD>
										</TR>
										</TABLE>
									</TD>
								</TR>
								</TR>
								</TABLE>
							</TD>
						</TR>
						<% } %>

						</Table>
						<!-- End Right Clumn - Non-Dates -->
					</TD>
				</TR>

				<TR>
					<TD width="45%"><B>Existing Remarks:</B></TD>
					<TD width="5%"></TD>
					<TD width="45%"><B>Add Remarks:</B></TD>
					<TD width="5%"></TD>
				</TR>
				<TR>
					<TD width="45%">
                 		<%if (attrs.get("Remarks")!=null) {%>
                			<%if (!attrs.get("Remarks").toString().equals("")) {%>
                				<textarea rows="4" cols="30" READONLY><%=replaceNewLines((String)attrs.get("Remarks"))%></textarea>
                		    <%}%>	 		
                		<%}%>					
					</TD>
					<TD width="5%"></TD>
					<TD width="45%" rowspan=3 valign=top align=left>
						<textarea wrap="hard"  tabindex="13" rows=4 cols=30 name=Remarks maxlength="400"></textarea>
					</TD>
					<TD width="5%"></TD>
				</TR>
			</TABLE>
			<!-- End Main table -->
		</TD>
	</TR>
</TABLE>

<%--
	Terminate the validation mask.  Using the empty string as the value results in no
	validation being performed.  For more information on the validation mechanism see
	the detailed comments in the file awi/performer/samples/pages/Details.jsp
--%>

	<%if(isLayerOneAccess){
	    validationMaskBuffer.append("DDDPDDiiiTiiii");
	}else { 
	    validationMaskBuffer.append("DDDPDDiiiTii");	
	}
		 //end of if("ProvinceState".equals("105006") || "ProvinceState".equals("105005"))
			}else{%>
				<TR>
					<TD width="25%"><B>Username: </B></TD>
					<TD width="18%"><%=attrs.get("Username")%></TD>
					<TD width="35%">&nbsp;</TD>
					<TD width="18%">&nbsp;</TD>
				</TR>

		 		<TR>
					<TD valign=top colspan=2>
						<!-- Left Clumn - Dates -->
						<Table>
						<TR>
							<TD width="25%"><B>Sales Info Date (SID): </B> </TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="1" name=SID value="<%= attrs.get("SID") %>"></TD>
						</TR>

						<TR>
							<TD width="25%"><B>Engineering Ready Date (ERD): </B> </TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="2" name=ERD value="<%= attrs.get("ERD") %>"></TD>
						</TR>

						<TR>
							<TD width="25%"><B>Plant Ready Date (PRD): </B> </TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="3" name=PRD value="<%= attrs.get("PRD") %>"></TD>
						</TR>

						<TR>
							<TD width="25%"><B>Plant Test Date (PTD):  </B></TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="4" name=PTD value="<%= attrs.get("PTD") %>"></TD>
						</TR>

						<TR>
							<TD width="25%"><B>Due Date (DD): </B> </TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="5" name=DD value="<%= attrs.get("DD") %>"></TD>
						</TR>
						</Table>
						<!-- End Left Clumn - Dates -->
					</TD>

					<TD valign=top colspan=2>
						<!-- Right Clumn - Non-Dates -->
						<Table border=0>
						<TR>
							<TD width="35%"><B>Priority Code: </B> </TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="6" name=PriorityCode maxlength="30" value="<%= attrs.get("PriorityCode") %>"></TD>
						</TR>

						<TR>
							<TD width="35%"><B>Project Code:</B></TD>
							<TD width="18%"><INPUT type=text size=14 tabindex="7" name=ProjectCode maxlength="4" value="<%= attrs.get("ProjectCode") %>"></TD>
						</TR>

						<% if (isLayerOneAccess) {%>
						<TR>
							<TD colspan=2 valign="top">
								<TABLE border="2" cellPadding="4" cellSpacing="0" width=93%>
								<TR>
									<TD>
										<TABLE width=100% border=0>
										<TR>
											<TD width="50%"><B>ZEnd Network Request #: </B> </TD>
											<TD width="18%"><INPUT type=text size=14 tabindex="8" name=ZEndNetworkRequestNumber maxlength="8" value="<%= attrs.get("ZEndNetworkRequestNumber") %>"></TD>
										</TR>
										<TR>
											<TD width="50%"><B>ZEnd CIC/Camp Code:</B> </TD>
											<TD width="18%"><INPUT type=text size=14 tabindex="9" name=ZEndCICCamp maxlength="30" value="<%= attrs.get("ZEndCICCamp") %>"></TD>
										</TR>
										</TABLE>
									</TD>
								</TR>
								</TR>
								</TABLE>
							</TD>
						</TR>
						<% } %>

						</Table>
						<!-- End Right Clumn - Non-Dates -->
					</TD>
				</TR>

				<TR>
					<TD width="45%"><B>Existing Remarks:</B></TD>
					<TD width="5%"></TD>
					<TD width="45%"><B>Add Remarks:</B></TD>
					<TD width="5%"></TD>
				</TR>
				<TR>
					<TD width="45%">
                 		<%if (attrs.get("Remarks")!=null) {%>
                			<%if (!attrs.get("Remarks").toString().equals("")) {%>
                				<textarea rows="4" cols="30" READONLY><%=replaceNewLines((String)attrs.get("Remarks"))%></textarea>
                		    <%}%>	 		
                		<%}%>					
					</TD>
					<TD width="5%"></TD>
					<TD width="45%" rowspan=3 valign=top align=left>
						<textarea wrap="hard"  tabindex="10" rows=4 cols=30 name=Remarks maxlength="400"><%=attrs.get("Remarks")%></textarea>
					</TD>
					<TD width="5%"></TD>
				</TR>
			</TABLE>
			<!-- End Main table -->
		</TD>
	</TR>
</TABLE>

<%--
	Terminate the validation mask.  Using the empty string as the value results in no
	validation being performed.  For more information on the validation mechanism see
	the detailed comments in the file awi/performer/samples/pages/Details.jsp
--%>

	<%if(isLayerOneAccess){
		validationMaskBuffer.append("DDDDDiTiiii");
	}else {
		validationMaskBuffer.append("DDDDDiTii");
		
	}

				
				
          	//end of else when !"ProvinceState".equals("105006") && !"ProvinceState".equals("105005")
			}%>
		<input type="hidden" name="validationMask" value="<%=validationMaskBuffer.toString()%>">		
	<%}//end of if(!isGrayOut)
	 else{%>
		<input type="hidden" name="validationMask" value="">
	<%}	
       	//end of else when isStarted == true
     }
     validationMaskBuffer = new StringBuffer();
     %>
</FORM>

<br><A href="<%=theList%>.bws?vtObjectID=vtlh&vtMethod=resetInboxData&vtEncoder=JSP&vtEncoderQualifier=performer/pages/User_Inbox.jsp&page=<%=listpage%>&position=<%=task.getId()%>"
	style="COLOR: blue; TEXT-DECORATION: underline" target="_top">Return to task list</A>


</body>
</html>
